<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 门架牌识小时批次汇总(TBL_GANTRY_SUM_TRAVELIMAGE) -->
<mapper namespace="com.pingok.devicemonitor.mapper.gantry.TblGantrySumTravelImageMapper">
    <!-- This code was generated by TableGo tools, mark 1 begin. -->
    <!-- 字段映射 -->
    <resultMap id="tblGantrySumTravelimageMap" type="TblGantrySumTravelimage">
        <id column="COLLECT_ID" property="collectId" jdbcType="NVARCHAR" />
        <result column="GANTRYID" property="gantryId" jdbcType="NVARCHAR" />
        <result column="COLLECT_DATE" property="collectDate" jdbcType="NVARCHAR" />
        <result column="COLLECT_HOUR_BATCH" property="collectHourBatch" jdbcType="NVARCHAR" />
        <result column="VEHICLE_DATA_COUNT" property="vehicleDataCount" jdbcType="INTEGER" />
        <result column="VEHICLE_PIC_COUNT" property="vehiclePicCount" jdbcType="INTEGER" />
        <result column="COMPUTER_ORDER" property="computerOrder" jdbcType="INTEGER" />
    </resultMap>
    <!-- This code was generated by TableGo tools, mark 1 end. -->

    <!-- This code was generated by TableGo tools, mark 2 begin. -->
    <!-- 表查询字段 -->
    <sql id="allColumns">
        tgst.COLLECT_ID, tgst.GANTRYID, tgst.COLLECT_DATE, tgst.COLLECT_HOUR_BATCH, tgst.VEHICLE_DATA_COUNT, tgst.VEHICLE_PIC_COUNT, tgst.COMPUTER_ORDER
    </sql>
    <!-- This code was generated by TableGo tools, mark 2 end. -->

    <!-- 查询所有门架牌识小时批次汇总 -->
    <select id="findTblGantrySumTravelimageAll" resultMap="tblGantrySumTravelimageMap">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_SUM_TRAVELIMAGE tgst
    </select>

    <!-- 根据条件参数查询门架牌识小时批次汇总列表 -->
    <select id="findTblGantrySumTravelimageByCondition" resultMap="tblGantrySumTravelimageMap" parameterType="map">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_SUM_TRAVELIMAGE tgst WHERE 1 = 1
        <if test="gantryId != null and gantryId != ''">
            AND tgst.GANTRYID LIKE '%' || #{gantryId} || '%'
        </if>
        <if test="collectDate != null and collectDate != ''">
            AND tgst.COLLECT_DATE LIKE '%' || #{collectDate} || '%'
        </if>
        <if test="collectHourBatch != null and collectHourBatch != ''">
            AND tgst.COLLECT_HOUR_BATCH LIKE '%' || #{collectHourBatch} || '%'
        </if>
        <if test="vehicleDataCount != null">
            AND tgst.VEHICLE_DATA_COUNT = #{vehicleDataCount}
        </if>
        <if test="vehiclePicCount != null">
            AND tgst.VEHICLE_PIC_COUNT = #{vehiclePicCount}
        </if>
        <if test="computerOrder != null">
            AND tgst.COMPUTER_ORDER = #{computerOrder}
        </if>
    </select>

    <!-- 根据主键查询门架牌识小时批次汇总信息 -->
    <select id="findTblGantrySumTravelimageByIds" resultMap="tblGantrySumTravelimageMap" parameterType="list">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_SUM_TRAVELIMAGE tgst WHERE tgst.COLLECT_ID IN
        <foreach collection="list" index="index" item="collectId" open="(" separator="," close=")">
            #{collectId}
        </foreach>
    </select>

    <!-- 新增门架牌识小时批次汇总信息 -->
    <insert id="addTblGantrySumTravelimage">
        INSERT INTO TBL_GANTRY_SUM_TRAVELIMAGE (
            COLLECT_ID, GANTRYID, COLLECT_DATE, COLLECT_HOUR_BATCH, VEHICLE_DATA_COUNT, VEHICLE_PIC_COUNT, COMPUTER_ORDER
        ) VALUES (
            #{collectId,jdbcType=NVARCHAR},
            #{gantryid,jdbcType=NVARCHAR},
            #{collectDate,jdbcType=NVARCHAR},
            #{collectHourBatch,jdbcType=NVARCHAR},
            #{vehicleDataCount,jdbcType=INTEGER},
            #{vehiclePicCount,jdbcType=INTEGER},
            #{computerOrder,jdbcType=INTEGER}
        )
    </insert>

    <!-- 修改门架牌识小时批次汇总信息 -->
    <update id="updateTblGantrySumTravelimage">
        UPDATE TBL_GANTRY_SUM_TRAVELIMAGE
        <set>
            <if test="gantryid != null">
                GANTRY_ID = #{gantryid,jdbcType=NVARCHAR},
            </if>
            <if test="collectDate != null">
                COLLECT_DATE = #{collectDate,jdbcType=NVARCHAR},
            </if>
            <if test="collectHourBatch != null">
                COLLECT_HOUR_BATCH = #{collectHourBatch,jdbcType=NVARCHAR},
            </if>
            <if test="vehicleDataCount != null">
                VEHICLE_DATA_COUNT = #{vehicleDataCount,jdbcType=INTEGER},
            </if>
            <if test="vehiclePicCount != null">
                VEHICLE_PIC_COUNT = #{vehiclePicCount,jdbcType=INTEGER},
            </if>
            <if test="computerOrder != null">
                COMPUTER_ORDER = #{computerOrder,jdbcType=INTEGER}
            </if>
        </set>
        WHERE COLLECT_ID = #{collectId}
    </update>

    <!-- 根据主键删除门架牌识小时批次汇总 -->
    <delete id="deleteTblGantrySumTravelimageById" parameterType="string">
        DELETE FROM TBL_GANTRY_SUM_TRAVELIMAGE WHERE COLLECT_ID = #{collectId}
    </delete>

</mapper>