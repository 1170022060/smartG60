<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ETC 门架交易小时批次汇总(TBL_GANTRY_SUM_TRANSACTION) -->
<mapper namespace="com.pingok.devicemonitor.mapper.gantry.TblGantrySumTransactionMapper">
    <!-- This code was generated by TableGo tools, mark 1 begin. -->
    <!-- 字段映射 -->
    <resultMap id="tblGantrySumTransactionMap" type="TblGantrySumTransaction">
        <id column="COLLECT_ID" property="collectId" jdbcType="NVARCHAR" />
        <result column="GANTRY_ID" property="gantryId" jdbcType="NVARCHAR" />
        <result column="COMPUTER_ORDER" property="computerOrder" jdbcType="INTEGER" />
        <result column="COLLECT_DATE" property="collectDate" jdbcType="NVARCHAR" />
        <result column="COLLECT_HOUR_BATCH" property="collectHourBatch" jdbcType="NVARCHAR" />
        <result column="BATCH_COUNT" property="batchCount" jdbcType="INTEGER" />
        <result column="ETC_TYPE_COUNT" property="etcTypeCount" jdbcType="NVARCHAR" />
        <result column="ETC_CLASS_COUNT" property="etcClassCount" jdbcType="NVARCHAR" />
        <result column="ETC_SUCCESS_COUNT" property="etcSuccessCount" jdbcType="INTEGER" />
        <result column="ETC_SUCCESS_FEE" property="etcSuccessFee" jdbcType="INTEGER" />
        <result column="ETC_FAIL_COUNT" property="etcFailCount" jdbcType="INTEGER" />
        <result column="CPC_TYPE_COUNT" property="cpcTypeCount" jdbcType="NVARCHAR" />
        <result column="CPC_CLASS_COUNT" property="cpcClassCount" jdbcType="NVARCHAR" />
        <result column="CPC_SUCCESS_COUNT" property="cpcSuccessCount" jdbcType="INTEGER" />
        <result column="CPC_SUCCESS_FEE" property="cpcSuccessFee" jdbcType="INTEGER" />
        <result column="CPC_FAIL_COUNT" property="cpcFailCount" jdbcType="INTEGER" />
    </resultMap>
    <!-- This code was generated by TableGo tools, mark 1 end. -->

    <!-- This code was generated by TableGo tools, mark 2 begin. -->
    <!-- 表查询字段 -->
    <sql id="allColumns">
        tgst.COLLECT_ID, tgst.GANTRY_ID, tgst.COMPUTER_ORDER, tgst.COLLECT_DATE, tgst.COLLECT_HOUR_BATCH, tgst.BATCH_COUNT, tgst.ETC_TYPE_COUNT, tgst.ETC_CLASS_COUNT, 
        tgst.ETC_SUCCESS_COUNT, tgst.ETC_SUCCESS_FEE, tgst.ETC_FAIL_COUNT, tgst.CPC_TYPE_COUNT, tgst.CPC_CLASS_COUNT, tgst.CPC_SUCCESS_COUNT, tgst.CPC_SUCCESS_FEE, tgst.CPC_FAIL_COUNT
    </sql>
    <!-- This code was generated by TableGo tools, mark 2 end. -->

    <!-- 查询所有ETC 门架交易小时批次汇总 -->
    <select id="findTblGantrySumTransactionAll" resultMap="tblGantrySumTransactionMap">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_SUM_TRANSACTION tgst
    </select>

    <!-- 根据条件参数查询ETC 门架交易小时批次汇总列表 -->
    <select id="findTblGantrySumTransactionByCondition" resultMap="tblGantrySumTransactionMap" parameterType="map">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_SUM_TRANSACTION tgst WHERE 1 = 1
        <if test="gantryId != null and gantryId != ''">
            AND tgst.GANTRY_ID LIKE '%' || #{gantryId} || '%'
        </if>
        <if test="computerOrder != null">
            AND tgst.COMPUTER_ORDER = #{computerOrder}
        </if>
        <if test="collectDate != null and collectDate != ''">
            AND tgst.COLLECT_DATE LIKE '%' || #{collectDate} || '%'
        </if>
        <if test="collectHourBatch != null and collectHourBatch != ''">
            AND tgst.COLLECT_HOUR_BATCH LIKE '%' || #{collectHourBatch} || '%'
        </if>
        <if test="batchCount != null">
            AND tgst.BATCH_COUNT = #{batchCount}
        </if>
        <if test="etcTypeCount != null and etcTypeCount != ''">
            AND tgst.ETC_TYPE_COUNT LIKE '%' || #{etcTypeCount} || '%'
        </if>
        <if test="etcClassCount != null and etcClassCount != ''">
            AND tgst.ETC_CLASS_COUNT LIKE '%' || #{etcClassCount} || '%'
        </if>
        <if test="etcSuccessCount != null">
            AND tgst.ETC_SUCCESS_COUNT = #{etcSuccessCount}
        </if>
        <if test="etcSuccessFee != null">
            AND tgst.ETC_SUCCESS_FEE = #{etcSuccessFee}
        </if>
        <if test="etcFailCount != null">
            AND tgst.ETC_FAIL_COUNT = #{etcFailCount}
        </if>
        <if test="cpcTypeCount != null and cpcTypeCount != ''">
            AND tgst.CPC_TYPE_COUNT LIKE '%' || #{cpcTypeCount} || '%'
        </if>
        <if test="cpcClassCount != null and cpcClassCount != ''">
            AND tgst.CPC_CLASS_COUNT LIKE '%' || #{cpcClassCount} || '%'
        </if>
        <if test="cpcSuccessCount != null">
            AND tgst.CPC_SUCCESS_COUNT = #{cpcSuccessCount}
        </if>
        <if test="cpcSuccessFee != null">
            AND tgst.CPC_SUCCESS_FEE = #{cpcSuccessFee}
        </if>
        <if test="cpcFailCount != null">
            AND tgst.CPC_FAIL_COUNT = #{cpcFailCount}
        </if>
    </select>

    <!-- 根据主键查询ETC 门架交易小时批次汇总信息 -->
    <select id="findTblGantrySumTransactionByIds" resultMap="tblGantrySumTransactionMap" parameterType="list">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_SUM_TRANSACTION tgst WHERE tgst.COLLECT_ID IN
        <foreach collection="list" index="index" item="collectId" open="(" separator="," close=")">
            #{collectId}
        </foreach>
    </select>

    <!-- 新增ETC 门架交易小时批次汇总信息 -->
    <insert id="addTblGantrySumTransaction">
        INSERT INTO TBL_GANTRY_SUM_TRANSACTION (
            COLLECT_ID, GANTRY_ID, COMPUTER_ORDER, COLLECT_DATE, COLLECT_HOUR_BATCH, BATCH_COUNT, ETC_TYPE_COUNT, ETC_CLASS_COUNT, 
            ETC_SUCCESS_COUNT, ETC_SUCCESS_FEE, ETC_FAIL_COUNT, CPC_TYPE_COUNT, CPC_CLASS_COUNT, CPC_SUCCESS_COUNT, CPC_SUCCESS_FEE, CPC_FAIL_COUNT
        ) VALUES (
            #{collectId,jdbcType=NVARCHAR},
            #{gantryId,jdbcType=NVARCHAR},
            #{computerOrder,jdbcType=INTEGER},
            #{collectDate,jdbcType=NVARCHAR},
            #{collectHourBatch,jdbcType=NVARCHAR},
            #{batchCount,jdbcType=INTEGER},
            #{etcTypeCount,jdbcType=NVARCHAR},
            #{etcClassCount,jdbcType=NVARCHAR},
            #{etcSuccessCount,jdbcType=INTEGER},
            #{etcSuccessFee,jdbcType=INTEGER},
            #{etcFailCount,jdbcType=INTEGER},
            #{cpcTypeCount,jdbcType=NVARCHAR},
            #{cpcClassCount,jdbcType=NVARCHAR},
            #{cpcSuccessCount,jdbcType=INTEGER},
            #{cpcSuccessFee,jdbcType=INTEGER},
            #{cpcFailCount,jdbcType=INTEGER}
        )
    </insert>

    <!-- 修改ETC 门架交易小时批次汇总信息 -->
    <update id="updateTblGantrySumTransaction">
        UPDATE TBL_GANTRY_SUM_TRANSACTION
        <set>
            <if test="gantryId != null">
                GANTRY_ID = #{gantryId,jdbcType=NVARCHAR},
            </if>
            <if test="computerOrder != null">
                COMPUTER_ORDER = #{computerOrder,jdbcType=INTEGER},
            </if>
            <if test="collectDate != null">
                COLLECT_DATE = #{collectDate,jdbcType=NVARCHAR},
            </if>
            <if test="collectHourBatch != null">
                COLLECT_HOUR_BATCH = #{collectHourBatch,jdbcType=NVARCHAR},
            </if>
            <if test="batchCount != null">
                BATCH_COUNT = #{batchCount,jdbcType=INTEGER},
            </if>
            <if test="etcTypeCount != null">
                ETC_TYPE_COUNT = #{etcTypeCount,jdbcType=NVARCHAR},
            </if>
            <if test="etcClassCount != null">
                ETC_CLASS_COUNT = #{etcClassCount,jdbcType=NVARCHAR},
            </if>
            <if test="etcSuccessCount != null">
                ETC_SUCCESS_COUNT = #{etcSuccessCount,jdbcType=INTEGER},
            </if>
            <if test="etcSuccessFee != null">
                ETC_SUCCESS_FEE = #{etcSuccessFee,jdbcType=INTEGER},
            </if>
            <if test="etcFailCount != null">
                ETC_FAIL_COUNT = #{etcFailCount,jdbcType=INTEGER},
            </if>
            <if test="cpcTypeCount != null">
                CPC_TYPE_COUNT = #{cpcTypeCount,jdbcType=NVARCHAR},
            </if>
            <if test="cpcClassCount != null">
                CPC_CLASS_COUNT = #{cpcClassCount,jdbcType=NVARCHAR},
            </if>
            <if test="cpcSuccessCount != null">
                CPC_SUCCESS_COUNT = #{cpcSuccessCount,jdbcType=INTEGER},
            </if>
            <if test="cpcSuccessFee != null">
                CPC_SUCCESS_FEE = #{cpcSuccessFee,jdbcType=INTEGER},
            </if>
            <if test="cpcFailCount != null">
                CPC_FAIL_COUNT = #{cpcFailCount,jdbcType=INTEGER}
            </if>
        </set>
        WHERE COLLECT_ID = #{collectId}
    </update>

    <!-- 根据主键删除ETC 门架交易小时批次汇总 -->
    <delete id="deleteTblGantrySumTransactionById" parameterType="string">
        DELETE FROM TBL_GANTRY_SUM_TRANSACTION WHERE COLLECT_ID = #{collectId}
    </delete>

</mapper>