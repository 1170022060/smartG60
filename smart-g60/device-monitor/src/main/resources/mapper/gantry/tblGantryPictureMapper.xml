<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ETC 门架牌识图片（按需调取、全量）上传(TBL_GANTRY_PICTURE) -->
<mapper namespace="com.pingok.mapper.gantry.devicemonitor.tblGantryPicture">
    <!-- This code was generated by TableGo tools, mark 1 begin. -->
    <!-- 字段映射 -->
    <resultMap id="tblGantryPictureMap" type="TblGantryPicture">
        <id column="PIC_ID" property="picId" jdbcType="NVARCHAR" />
        <result column="GANTRY_ID" property="gantryId" jdbcType="NVARCHAR" />
        <result column="VEHICLE_PLATE" property="vehiclePlate" jdbcType="NVARCHAR" />
        <result column="IMAGE" property="image" jdbcType="VARCHAR" />
        <result column="LICENSE_IMAGE" property="licenseImage" jdbcType="VARCHAR" />
        <result column="BIN_IMAGE" property="binImage" jdbcType="VARCHAR" />
        <result column="PIC_TIME" property="picTime" jdbcType="TIMESTAMP" />
    </resultMap>
    <!-- This code was generated by TableGo tools, mark 1 end. -->

    <!-- This code was generated by TableGo tools, mark 2 begin. -->
    <!-- 表查询字段 -->
    <sql id="allColumns">
        tgp.PIC_ID, tgp.GANTRY_ID, tgp.VEHICLE_PLATE, tgp.IMAGE, tgp.LICENSE_IMAGE, tgp.BIN_IMAGE, tgp.PIC_TIME
    </sql>
    <!-- This code was generated by TableGo tools, mark 2 end. -->

    <!-- 查询所有ETC 门架牌识图片（按需调取、全量）上传 -->
    <select id="findTblGantryPictureAll" resultMap="tblGantryPictureMap">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_PICTURE tgp
    </select>

    <!-- 根据条件参数查询ETC 门架牌识图片（按需调取、全量）上传列表 -->
    <select id="findTblGantryPictureByCondition" resultMap="tblGantryPictureMap" parameterType="map">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_PICTURE tgp WHERE 1 = 1
        <if test="gantryId != null and gantryId != ''">
            AND tgp.GANTRY_ID LIKE '%' || #{gantryId} || '%'
        </if>
        <if test="vehiclePlate != null and vehiclePlate != ''">
            AND tgp.VEHICLE_PLATE LIKE '%' || #{vehiclePlate} || '%'
        </if>
        <if test="image != null and image != ''">
            AND tgp.IMAGE LIKE '%' || #{image} || '%'
        </if>
        <if test="licenseImage != null and licenseImage != ''">
            AND tgp.LICENSE_IMAGE LIKE '%' || #{licenseImage} || '%'
        </if>
        <if test="binImage != null and binImage != ''">
            AND tgp.BIN_IMAGE LIKE '%' || #{binImage} || '%'
        </if>
        <if test="picTime != null">
            AND tgp.PIC_TIME = #{picTime}
        </if>
    </select>

    <!-- 根据主键查询ETC 门架牌识图片（按需调取、全量）上传信息 -->
    <select id="findTblGantryPictureByIds" resultMap="tblGantryPictureMap" parameterType="list">
        SELECT
            <include refid="allColumns" />
        FROM TBL_GANTRY_PICTURE tgp WHERE tgp.PIC_ID IN
        <foreach collection="list" index="index" item="picId" open="(" separator="," close=")">
            #{picId}
        </foreach>
    </select>

    <!-- 新增ETC 门架牌识图片（按需调取、全量）上传信息 -->
    <insert id="addTblGantryPicture">
        INSERT INTO TBL_GANTRY_PICTURE (
            PIC_ID, GANTRY_ID, VEHICLE_PLATE, IMAGE, LICENSE_IMAGE, BIN_IMAGE, PIC_TIME
        ) VALUES (
            #{picId,jdbcType=NVARCHAR},
            #{gantryId,jdbcType=NVARCHAR},
            #{vehiclePlate,jdbcType=NVARCHAR},
            #{image,jdbcType=VARCHAR},
            #{licenseImage,jdbcType=VARCHAR},
            #{binImage,jdbcType=VARCHAR},
            #{picTime,jdbcType=TIMESTAMP}
        )
    </insert>

    <!-- 修改ETC 门架牌识图片（按需调取、全量）上传信息 -->
    <update id="updateTblGantryPicture">
        UPDATE TBL_GANTRY_PICTURE
        <set>
            <if test="gantryId != null">
                GANTRY_ID = #{gantryId,jdbcType=NVARCHAR},
            </if>
            <if test="vehiclePlate != null">
                VEHICLE_PLATE = #{vehiclePlate,jdbcType=NVARCHAR},
            </if>
            <if test="image != null">
                IMAGE = #{image,jdbcType=VARCHAR},
            </if>
            <if test="licenseImage != null">
                LICENSE_IMAGE = #{licenseImage,jdbcType=VARCHAR},
            </if>
            <if test="binImage != null">
                BIN_IMAGE = #{binImage,jdbcType=VARCHAR},
            </if>
            <if test="picTime != null">
                PIC_TIME = #{picTime,jdbcType=TIMESTAMP}
            </if>
        </set>
        WHERE PIC_ID = #{picId}
    </update>

    <!-- 根据主键删除ETC 门架牌识图片（按需调取、全量）上传 -->
    <delete id="deleteTblGantryPictureById" parameterType="string">
        DELETE FROM TBL_GANTRY_PICTURE WHERE PIC_ID = #{picId}
    </delete>

</mapper>